# SarcAsM Analysis Environment Configuration
# Copy this file to .env and customize for your local setup

# ============================================
# DIRECTORY SETTINGS
# ============================================
# Input directory containing TIFF images
INPUT_DIR=C:\Users\YourName\OneDrive\Dokumente\MM.4\original\1

# Output directory for results (CSV, overlays, masks)
OUTPUT_DIR=./sarcasm_results

# Recurse into subdirectories when searching for images
RECURSE=False


# ============================================
# PIXEL SIZE CONFIGURATION
# ============================================
# Fallback pixel size if not detected from metadata (µm/px)
PIXELSIZE_FALLBACK_UM_PER_PX=0.14017

# Auto-detect pixel size from TIFF metadata
AUTO_PIXELSIZE=True

# Enable debug output for pixel size detection
DEBUG_PIXELSIZE=False


# ============================================
# FIJI / PYIMAGEJ SETTINGS
# ============================================
# Use Fiji/PyImageJ for Bio-Formats metadata extraction
ENABLE_FIJI_VIA_PYIMAGEJ=True

# Fiji Maven coordinate for imagej.init()
FIJI_MAVEN_COORD=sc.fiji:fiji:2.9.0


# ============================================
# DETECTION PARAMETERS
# ============================================
# Z-bands threshold (0.30-0.45 recommended; higher = stricter)
ZBANDS_THRESHOLD=0.35

# Sarcomere mask threshold (0.10-0.18 recommended; higher = stricter)
SARCO_MASK_THR=0.12

# M-bands threshold for α-Actinin detection
THRESHOLD_MBANDS=0.40

# Median filter radius (µm) for Z-band smoothing
MEDIAN_FILTER_RADIUS=0.25

# Line width for vector analysis (µm)
LINEWIDTH=0.20

# Interpolation factor for analysis
INTERP_FACTOR=4

# Sarcomere length limits (µm) - physiological range
SLEN_LIMS_MIN=1.5
SLEN_LIMS_MAX=2.4


# ============================================
# OVERLAY CLEANING PARAMETERS
# ============================================
# Morphological closing radius (µm) to reduce fragmentation (0 = disabled)
OVERLAY_CLOSE_UM=0.11

# Minimum overlay area (µm²) to keep (0 = disabled)
OVERLAY_MIN_AREA_UM2=0.04


# ============================================
# MODEL & RESCALE SETTINGS
# ============================================
# Path to custom model (None = use default)
MODEL_PATH=None

# Rescale factor for images (1.0 = no rescaling)
RESCALE_FACTOR=1.0


# ============================================
# OVERLAY GENERATION SETTINGS
# ============================================
# Generate overlay images
MAKE_OVERLAY=True

# Use filtered Z-mask for overlays
USE_FILTERED_ZMASK=True

# Overlay color (R, G, B values 0-255)
OVERLAY_COLOR_R=0
OVERLAY_COLOR_G=255
OVERLAY_COLOR_B=0

# Overlay transparency (0.0-1.0)
OVERLAY_ALPHA=0.55

# Suffix for overlay output files
OVERLAY_SUFFIX=_overlay_zbands

# Save filtered Z-mask separately
SAVE_FILTERED_ZMASK=True


# ============================================
# ENVIRONMENT VARIABLES (Advanced)
# ============================================
# Matplotlib backend (headless mode)
# MPLBACKEND=Agg

# Qt platform plugin (headless mode)
# QT_QPA_PLATFORM=offscreen

# Disable tqdm progress bars
# TQDM_DISABLE=1
